---
title: Linux基础
date: 2022-11-03
description: 第一次系统学习Linux，最近趁着双十一也入手了一个服务器。可以学一学。
keywords: Linux
cover: https://img.yublog.top/img/202211031852716.jpg
top_img: https://img.yublog.top/img/202211031852716.jpg
tags: 
	- Linux
	- 基础
	- 操作系统
categories: Linux相关
---

# Linux目录结构
1. Linux世界中一切都是文件
2. /是根目录

3. 具体
	- /bin【常用】
		存放着最常用的指令
	- /sbin【常用】
		存放系统管理员使用的系统管理程序
	- /home【常用】
		存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名
	- /root【常用】
		该目录为系统管理员，也称作超级权限者的用户主目录
	- /lib
		系统开机所需要的最基本的动态链接共享库，其作用类似于Windows里的DLL文件
	- /lost+found
		这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件

# 登录重启注销
## 关机重启
- shutdown -h now 立刻关机
- shutdown -h 1 "通知信息，1分钟后关机"
- shutdown -r now 立刻重启
- halt 关机
- reboot 重启
- sync 把内存数据存到磁盘

## 登录和注销
1. 进root时可以用普通用户登录后，用su -用户名 进行切换身份
2. logout注销

# 用户管理
## 添加用户
useradd 用户名
- 创建成功后，会自动创建和用户名同名的家目录
- 也可以通过useradd -d 指定目录 新的用户 给新建用户指定家目录

## 设置密码
passwd 用户名
补充：pwd显示当前所在的目录

## 删除用户
userdel 用户
- 保留家目录 userdel 用户
- 不保留家目录 userdel 用户 -r 家目录

## 查询用户信息
id 用户名

## 切换用户
su -用户名
exit/ logout退出

## 查看当前用户信息
who am i

## 用户组
1. 添加组 groupadd 组名称
2. 删除组 groupdel 组名称
3. 指定用户组 useradd -g 用户组 用户名
4. 修改用户组 usermod -g 用户组 用户名

5. 用户和组相关文件
	- /etc/passwd文件 用户user的配置文件，记录用户的各种信息
	每行的含义：用户名：口令：用户标识号：组标识号：注释性描述：主目录：登录Shell（我国用bash）
	- /etc/shadow文件，口令配置文件
	每行的含义：登录名：加密口令：最后一次修改时间：最小时间间隔：最大是按间隔：警告事件：不活动时间：失效时间：标志
	- /etc/group文件：组的配置文件，机理Linux包含的组的信息
	每行的含义：组名：口令：组标识号：组内用户列表

# 实用指令
## 运行级别
0：关机
1：单用户（找回丢失密码）
2：多用户状态没有网络服务
3：多用户有网络服务
4：系统未使用保留给用户
5：图形界面
6：系统重启
通过init[0123456]进行切换
## 找回root用户密码
1. 启动系统，进入开机界面，按e，进入编辑界面
2. 进入编辑界面，使用键盘上下，找到Linux16开头内容所在的行，在行的最后面输入init=/bin/sh
3.输入完成后，直接按Ctrl+x进入单用户模式
4. 在贯标闪烁的位置输入：mount -o remount, rw/ 然后按回车
5. 在新的一行最后面输入：passwd按回车，输入密码，确认两次即可
6. 在鼠标闪烁的位置（最后后一行中）输入：touch/ .autorelabel，然后按回车
7. 继续在光标闪烁的地方输入：exec /sbin/init然后按回车，等待系统修改密码
##帮助指令
- man 获取帮助信息
	man[命令或配置文件](功能描述：获得帮助信息)
	q退出
- help
	help 命令(获得shell内置命令的帮助信息)

## 文件目录类
- pwd 
	显示当前目录的绝对路径
- ls [选项] [目录或是文件]
	-a：显示当前目录所有的文件和目录，包括隐藏
	-l：以列表的方式显示信息
- cd [参数]
	切换指定目录
	cd ~：回到自己的家目录
	cd ..：回到上一级目录
- mkdir
	创建目录
	mkdir [选项] 要创建的目录
	-p：创建多级目录
- rmdir
	删除空目录
	rmdir [选项] 要删除的目录
	删除非空目录 rm -rf

- touch
	创建空文件
	touch [文件名称]

- cp
	拷贝文件到指定目录
	cp [选项] source dest
	-r：递归复制整个文件夹
	强制覆盖 \cp -r source dest
- rm	
	删除文件或目录
	rm [选项] 要删除的文件和目录
	-r 递归删除整个文件
	-f 强制删除不提示
- mv
	移动文件与目录或重命名
	mv oldNameFile newNameFile（重命名）
	mv source dest（移动文件）
- cat
	查看文件内容
	cat [选项] 要查看的内容
	-n：显示行号
	最好加上管道命令 | more
	![](https://img.yublog.top/img/202211091057533.png)
- less
	分屏查看文件内容，和more类似，但是比more强大，懒加载显示，效率高
	less 要查看的文件
	![](https://img.yublog.top/img/202211091057885.png)
- echo 
	输出内容到控制台
	echo [选项] [输出内容]
- head
	显示文件的开头，默认是前10行
	head 文件
	head -n num 文件
- tail
	输出文件中尾部的内容，默认输出10行
	tail 文件
	tail -n 5 文件
	tail -f 文件 （实时追踪文档的所有更新）
- >指令和>>指令
	> 输出重定向和>>追加
	ls -l > 文件 列表的内容写入文件（覆盖写）
	ls -al >> 文件 列表的内容追加到文件的末尾
	cat 文件1 > 文件2 将文件1的内容覆盖到文件2
	echo "内容" >> 文件
- ln
	软连接（符号链接），类似于快捷方式
	ln -s [源文件或目录] [软链接名] （给源文件建立一个软链接）
- history
	查看已经执行过的历史命令，也可以执行历史指令
	history 10 最近使用过的10条
	执行历史指令 !指令

# 时间日期类
## 显示日期
- date （显示当前时间）
- date + %y （显示年）
- date + %m （显示月）
- date + %d （显示天）
- date "+%y-%m-%d %H:%M%S"（显示年月日时分秒）

## 设置日期
- date -s 字符串时间
## 查看日历
- cal [选项] 显示日历

# 搜索查找类
- find 
	从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端
	find [搜索范围] [选项]
	-name<查询方式> 按照指定的文件名查找模式查找文件
	-user<用户名> 查找属于指定用户名所有文件
	-size<文件大小> 按照指定的文件大小查找
- locate
	快速定位
	locate 文件名
	第一次使用必须updatedb
- which
	查找命令在那个目录下
	which 命令
- grep
	管道符号|
	grep 过滤查询 |表示前一个命令的处理结果输出传递给后一个命令处理
	grep [选项] 查找内容 源文件
	-n 显示匹配行号
	-i 忽略字母 大小写



	